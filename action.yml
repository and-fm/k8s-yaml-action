name: "Simple k8s Secret Action"
branding:
  icon: "lock"
  color: "blue"
description: "Generates a valid k8s secret yaml from a list of secrets"
inputs:
  secrets_name:
    description: Resource name
    required: true
  secrets_namespace:
    description: Namespace to put the secrets in
    required: true
  secrets:
    description: list of secrets
    required: true
  basic_auth:
    description: Username and password to create a basic auth secret
    required: false
  configmap_env:
    description: Env vars list in the same format as passing secrets but generates configmap
    required: false
runs:
  using: "docker"
  image: "Dockerfile"
  args:
    - ${{ inputs.secrets_name }}
    - ${{ inputs.secrets_namespace }}
    - ${{ inputs.secrets }}
    - ${{ inputs.basic_auth }}
    - ${{ inputs.configmap_env }}
